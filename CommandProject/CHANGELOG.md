# История изменений

## Версия 1.1 (Обновление)

### Добавлено

**База данных:**
- ✅ Добавлено поле `Rating` в таблицу `Books`
  - Тип: `DECIMAL(3,2)` 
  - Диапазон: 0.00 - 5.00
  - Значение по умолчанию: 0.00
  - Проверка: `CHECK (Rating >= 0 AND Rating <= 5)`
  
- ✅ Создан скрипт миграции `Database/AddRatingColumn.sql` для обновления существующих БД

**Интерфейс:**
- ✅ Обновлена цветовая схема форм авторизации и регистрации
  - Основной цвет (заголовки, кнопки, ссылки): **Оранжевый** `#FF6B35` (255, 107, 53)
  - Текст: **Черный** `#1A1A1A` (26, 26, 26)
  - Фон: **Белый** `#FFFFFF`
  - Активные ссылки: **Темный оранжевый** `#E65A28` (230, 90, 40)

### Изменено

**LoginForm.cs:**
- Заголовок "Вход" - оранжевый цвет
- Все лейблы - черный цвет
- Кнопка "Войти" - оранжевый фон
- Ссылка регистрации - оранжевый цвет

**RegisterForm.cs:**
- Заголовок "Регистрация" - оранжевый цвет
- Все лейблы - черный цвет
- Кнопка "Зарегистрироваться" - оранжевый фон
- Ссылка входа - оранжевый цвет

**CreateDatabase.sql:**
- Добавлена колонка `Rating` в таблицу `Books`

**InsertTestData.sql:**
- Добавлены рейтинги для всех тестовых книг:
  - Евгений Онегин: 4.85
  - Война и мир: 4.92
  - Преступление и наказание: 4.78
  - Вишнёвый сад: 4.65
  - Мастер и Маргарита: 4.88

**App.config:**
- Обновлена строка подключения к SQL Server: `DESKTOP-UQACTGM\MSSQLSERVALEX`

### Технические детали

**Структура поля Rating:**
```sql
Rating DECIMAL(3,2) DEFAULT 0.00 CHECK (Rating >= 0 AND Rating <= 5)
```

**Цветовая палитра:**
```csharp
// Оранжевый - основной акцент
Color.FromArgb(255, 107, 53)

// Черный - текст
Color.FromArgb(26, 26, 26)

// Белый - фон
Color.White

// Темный оранжевый - активные элементы
Color.FromArgb(230, 90, 40)
```

### Миграция данных

Если вы уже создали БД без поля Rating, выполните:

```powershell
sqlcmd -S DESKTOP-UQACTGM\MSSQLSERVALEX -i Database\AddRatingColumn.sql
```

Или создайте БД заново:
```powershell
sqlcmd -S DESKTOP-UQACTGM\MSSQLSERVALEX -i Database\CreateDatabase.sql
sqlcmd -S DESKTOP-UQACTGM\MSSQLSERVALEX -i Database\StoredProcedures.sql
sqlcmd -S DESKTOP-UQACTGM\MSSQLSERVALEX -i Database\InsertTestData.sql
```

---

## Версия 1.0 (Первый релиз)

### Реализовано

**База данных:**
- Полная структура БД с 9 таблицами
- 7 хранимых процедур
- Система ролей (Admin/User)
- Тестовые данные (2 пользователя, 5 книг)

**C# Код:**
- DatabaseHelper - модуль работы с БД
- LoginForm - форма авторизации
- RegisterForm - форма регистрации
- SessionManager - управление сессиями
- User - модель пользователя
- ValidationHelper - валидация данных

**Безопасность:**
- SHA256 хеширование паролей
- Защита от SQL-инъекций
- Валидация всех полей
- Разделение прав доступа

**Документация:**
- START_HERE.md - быстрый старт
- SETUP_GUIDE.md - полная установка
- README_AUTH.md - документация модуля
- TEAM_API_GUIDE.md - руководство для команды
- QUICK_REFERENCE.md - шпаргалка
- PROJECT_SUMMARY.md - итоговый отчет

---

**Текущая версия:** 1.1  
**Дата последнего обновления:** Октябрь 2025

